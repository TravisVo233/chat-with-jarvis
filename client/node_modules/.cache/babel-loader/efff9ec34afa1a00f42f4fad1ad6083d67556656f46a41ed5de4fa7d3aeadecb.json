{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17;import React,{useEffect}from\"react\";import styled from\"styled-components\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";// import {PaperPlane}\nimport{faPaperPlane}from\"@fortawesome/free-solid-svg-icons\";import{useState}from\"react\";import BotAvatar from\"../../assets/bot_avatar.webp\";import UserAvatar from\"../../assets/default_avatar.png\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([{user:\"gpt\",message:\"Hello ! How can I help you ?\"}// { user: \"me\", message: \"Can I chat now ?\" },\n]),_useState4=_slicedToArray(_useState3,2),chatlog=_useState4[0],setChatlog=_useState4[1];function clearChat(){setChatlog([]);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var chatlogNew,messages,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();chatlogNew=[].concat(_toConsumableArray(chatlog),[{user:\"me\",message:\"\".concat(input)}]);setInput(\"\");setChatlog(chatlogNew);console.log(chatlogNew);messages=chatlogNew.map(function(message){return message.message;}).join(\"\\n\");_context.next=8;return fetch(\"http://192.168.10.128:3080/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:messages})});case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;setChatlog([].concat(_toConsumableArray(chatlogNew),[{user:\"gpt\",message:\"\".concat(data.message)}]));console.log(data.message);case 14:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(HomeWrapper,{children:[/*#__PURE__*/_jsxs(SideMenu,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Chat\"}),/*#__PURE__*/_jsx(SideMenuBtn,{onClick:clearChat,children:\"+ New chat\"})]}),/*#__PURE__*/_jsxs(ChatBox,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Chat With Jarvis\"}),/*#__PURE__*/_jsx(ChatContainer,{children:chatlog.map(function(message,index){return/*#__PURE__*/_jsx(Hello,{message:message},index);})}),/*#__PURE__*/_jsxs(ChatInputHolder,{children:[/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(ChatInput,{rows:1,placeholder:\"Type your chat here\",value:input,onChange:function onChange(e){setInput(e.target.value);console.log(input);}})}),/*#__PURE__*/_jsx(SendButtonHolder,{children:/*#__PURE__*/_jsx(SendButton,{onClick:handleSubmit,children:/*#__PURE__*/_jsx(Icon,{icon:faPaperPlane})})})]})]})]})});};var HomeWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(52, 53, 65, 1);\\n  display: flex;\\n\"])));var SideMenu=styled.aside(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 25vw;\\n  height: 100vh;\\n  padding: 30px;\\n  background-color: #202123;\\n  color: #fff;\\n\"])));var SideMenuBtn=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid white;\\n  border-radius: 5px;\\n  text-align: left;\\n  transition: all 0.25s ease;\\n  font-size: 1.25em;\\n  &:hover {\\n    background-color: rgba(255, 255, 255, 0.1);\\n    cursor: pointer;\\n  }\\n\"])));var ChatBox=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: #fff;\\n  flex: 1;\\n  background-color: #343541;\\n  position: relative;\\n\"])));var ChatInputHolder=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  padding: 12px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n\"])));var ChatInput=styled.input(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: #40414f;\\n  color: #fff;\\n  width: 90%;\\n  border-radius: 5px;\\n  border: none;\\n  outline: none;\\n  box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.5);\\n  resize: none;\\n  font-size: 1.25em;\\n  overflow-y: hidden;\\n  max-height: 200px;\\n  height: 50px;\\n  margin: 10px;\\n\"])));var SendButtonHolder=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width: 10%;\\n  display: flex;\\n  align-items: center;\\n\"])));var SendButton=styled.button(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  background-color: transparent;\\n  width: 30px;\\n  height: 30px;\\n  border: none;\\n  outline: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 5px;\\n  color: #fff;\\n  &:hover {\\n    color: rgba(172, 172, 190, 1);\\n    background-color: rgba(32, 33, 35, 1);\\n    cursor: pointer;\\n  }\\n\"])));var Icon=styled(FontAwesomeIcon)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 25px;\\n  height: 25px;\\n\"])));var ChatLog=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  padding: 24px;\\n  display: flex;\\n\\n  gap: 20px;\\n  width: 100%;\\n\"])));var ChatMessage=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  width: 90%;\\n  padding: 12px;\\n  border-radius: 5px;\\n\"])));var Avatar=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 10%;\\n  background-color: white;\\n  border-radius: 50%;\\n  width: 50px;\\n  height: 50px;\\n\"])));var AvatarImage=styled.img(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: auto;\\n\"])));var BotChatLog=styled(ChatLog)(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  background-color: rgba(255, 255, 255, 0.1);\\n\"])));var BotMessage=styled(ChatMessage)(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\"])));var Form=styled.form(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\"])));var ChatContainer=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: scroll;\\n  max-height: 70vh;\\n  overflow-x: hidden;\\n\"])));var Hello=function Hello(_ref){var message=_ref.message;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(ChatLog,{children:[/*#__PURE__*/_jsx(Avatar,{children:/*#__PURE__*/_jsx(AvatarImage,{src:message.user===\"gpt\"?BotAvatar:UserAvatar})}),/*#__PURE__*/_jsx(ChatMessage,{children:message.message})]})});};export default Home;","map":{"version":3,"names":["React","useEffect","styled","FontAwesomeIcon","faPaperPlane","useState","BotAvatar","UserAvatar","Home","input","setInput","user","message","chatlog","setChatlog","clearChat","handleSubmit","e","preventDefault","chatlogNew","console","log","messages","map","join","fetch","method","headers","body","JSON","stringify","response","json","data","index","target","value","HomeWrapper","div","SideMenu","aside","SideMenuBtn","ChatBox","ChatInputHolder","ChatInput","SendButtonHolder","SendButton","button","Icon","ChatLog","ChatMessage","Avatar","AvatarImage","img","BotChatLog","BotMessage","Form","form","ChatContainer","Hello"],"sources":["/Users/dev-meta/Documents/GitHub/chat-with-jarvis/client/src/view/Home/Home.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import {PaperPlane}\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { useState } from \"react\";\n\nimport BotAvatar from \"../../assets/bot_avatar.webp\";\nimport UserAvatar from \"../../assets/default_avatar.png\";\n\nconst Home = () => {\n  const [input, setInput] = useState(\"\");\n  const [chatlog, setChatlog] = useState([\n    { user: \"gpt\", message: \"Hello ! How can I help you ?\" },\n    // { user: \"me\", message: \"Can I chat now ?\" },\n  ]);\n\n\n  function clearChat() {\n    setChatlog([])\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let chatlogNew = [...chatlog, { user: \"me\", message: `${input}` }];\n     setInput(\"\");\n      setChatlog(chatlogNew)\n      console.log(chatlogNew)\n    const messages = chatlogNew.map((message) => message.message).join(\"\\n\")\n\n\n    const response = await fetch(\"http://192.168.10.128:3080/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        message: messages\n      }),\n    });\n    const data = await response.json();\n    setChatlog([...chatlogNew , { user: \"gpt\", message: `${data.message}` }]);\n    console.log(data.message);\n  }\n  return (\n    <>\n      <HomeWrapper>\n        <SideMenu>\n          <h1>Chat</h1>\n          <SideMenuBtn onClick={clearChat}>+ New chat</SideMenuBtn>\n        </SideMenu>\n        <ChatBox>\n          <h1>Chat With Jarvis</h1>\n          <ChatContainer>\n            {chatlog.map((message, index) => (\n              <Hello key={index} message={message} />\n            ))}\n          </ChatContainer>\n          {/* <BotChatLog>\n            <Avatar>\n              <AvatarImage src=\"/JARVIS_Logo.webp\" />\n            </Avatar>\n            <BotMessage>\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,\n              dicta minus hic commodi consequatur odio nobis. Vel debitis\n              repellendus quasi reiciendis non, saepe sit? Eum quas voluptatibus\n              assumenda ipsum, perspiciatis libero, saepe ipsam laudantium error\n              ipsa omnis sint facere! Provident veniam autem in perspiciatis\n              dolor iure cum dignissimos. Libero, aliquid?\n            </BotMessage>\n          </BotChatLog> */}\n          <ChatInputHolder>\n            <Form onSubmit={handleSubmit}>\n              <ChatInput\n                rows={1}\n                placeholder=\"Type your chat here\"\n                value={input}\n                onChange={(e) => {\n                  setInput(e.target.value);\n                  console.log(input);\n                }}\n              />\n            </Form>\n            <SendButtonHolder>\n              <SendButton onClick={handleSubmit}>\n                <Icon icon={faPaperPlane} />\n              </SendButton>\n            </SendButtonHolder>\n          </ChatInputHolder>\n        </ChatBox>\n      </HomeWrapper>\n    </>\n  );\n};\n\nconst HomeWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(52, 53, 65, 1);\n  display: flex;\n`;\n\nconst SideMenu = styled.aside`\n  width: 25vw;\n  height: 100vh;\n  padding: 30px;\n  background-color: #202123;\n  color: #fff;\n`;\n\nconst SideMenuBtn = styled.div`\n  padding: 12px;\n  border: 1px solid white;\n  border-radius: 5px;\n  text-align: left;\n  transition: all 0.25s ease;\n  font-size: 1.25em;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n    cursor: pointer;\n  }\n`;\n\nconst ChatBox = styled.div`\n  color: #fff;\n  flex: 1;\n  background-color: #343541;\n  position: relative;\n`;\n\nconst ChatInputHolder = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 12px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst ChatInput = styled.input`\n  background-color: #40414f;\n  color: #fff;\n  width: 90%;\n  border-radius: 5px;\n  border: none;\n  outline: none;\n  box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.5);\n  resize: none;\n  font-size: 1.25em;\n  overflow-y: hidden;\n  max-height: 200px;\n  height: 50px;\n  margin: 10px;\n`;\nconst SendButtonHolder = styled.div`\n  width: 10%;\n  display: flex;\n  align-items: center;\n`;\nconst SendButton = styled.button`\n  background-color: transparent;\n  width: 30px;\n  height: 30px;\n  border: none;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  color: #fff;\n  &:hover {\n    color: rgba(172, 172, 190, 1);\n    background-color: rgba(32, 33, 35, 1);\n    cursor: pointer;\n  }\n`;\nconst Icon = styled(FontAwesomeIcon)`\n  width: 25px;\n  height: 25px;\n`;\n\nconst ChatLog = styled.div`\n  padding: 24px;\n  display: flex;\n\n  gap: 20px;\n  width: 100%;\n`;\n\nconst ChatMessage = styled.div`\n  width: 90%;\n  padding: 12px;\n  border-radius: 5px;\n`;\n\nconst Avatar = styled.div`\n  width: 10%;\n  background-color: white;\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n`;\n\nconst AvatarImage = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nconst BotChatLog = styled(ChatLog)`\n  background-color: rgba(255, 255, 255, 0.1);\n`;\nconst BotMessage = styled(ChatMessage)``;\n\nconst Form = styled.form`\n  width: 100%;\n  height: 100%;\n`;\n\nconst ChatContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: scroll;\n  max-height: 70vh;\n  overflow-x: hidden;\n`;\n\nconst Hello = ({ message }) => {\n  return (\n    <>\n      <ChatLog>\n        <Avatar>\n          <AvatarImage src={message.user === \"gpt\" ? BotAvatar : UserAvatar} />\n        </Avatar>\n        <ChatMessage>{message.message}</ChatMessage>\n      </ChatLog>\n    </>\n  );\n};\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}